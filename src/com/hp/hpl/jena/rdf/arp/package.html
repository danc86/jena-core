<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
</head>
 <body>
<p>Reading <a href="http://www.w3.org/TR/rdf-syntax-grammar">RDF/XML</a>.
</p>
<p>The interaction between ARP and Xerces includes a significant
memory leak probably caused by Xerces interning some strings, on behalf of ARP.
This feature cannot be turned off.
This is not a new bug, so ARP users will not experience a degradation 
in performance. However, for users who have limited memory, or who are processing
large files, or files from many diverse sources,
or for long-lived applications such as web servers, it is important to
be aware of this leak. I believe that the strings being interned correspond
to the XML element tags and attribute names in the XML document. These
form an open set in RDF/XML, unlike most XML applications.
</p>
<p>
No proper work around is provided at this time; it is hoped that
later enhancements will provide a non-Xerces solution.
</p>
<p>
The best current advice is as follows: 
</p>
<dl>
<dt>limited memory environments</dt>
<dd>
buy more memory</dd>
<dd>convert RDF/XML to N3 or N-triple before
sending to the limited memory application. 
</dd>
<dt>long-lived applications</dt>
<dt>web servers</dt>
<dd>Kill and restart you application regularly
e.g. daily. Monitor memory usage to check whether
the application should be restarted more frequently.</dd>
<dt>very large documents</dt>
<dd>Ensure these are processed in environments with adequate
memory, restart application after each job.</dd>
</dl>
<p>
The size of the leak is presumably highly dependent on the actual
RDF/XML documents read. As an example the OWL Guide wine ontology,
(using the version from the OWL Test Cases) contains about 2000 triples
and leaks about 180K.
</p>
</body>
</html>
