<html>
<head>
  <meta http-equiv="Content-Type" content="text/html">
  <title>ARP: Another RDF Parser - Issues </title>
<link href="../styles/doc.css" rel="stylesheet" type="text/css">
</head>

<body>
<h1>Issues and known defects</h1>
Please e-mail me if any of these issues are important to you, and I will try
to prioritise fixes.
<ul>
  <li>Line and column numbers refer to the location of the <a
    href="saxdoc/org/xml/sax/SAXParseException.html#getLineNumber()">end of
    the XML element tag </a> rather than the  appropriate attribute. This
    <b>will not</b> be fixed.</li>
  <li>ARP should normally be used with the Xerces version shipping with Jena;
  if you need to use your own SAX parser, see the 
  <a href="sax.html">detailed instructions.</a></li>
  <li>Does not include normalizing transcoder support. This is needed for
    correct processing of some non-European character sets.</li>
  <li>There is a memory leak, see <a href="#leak">below</a>.</li>
  <li>Please <a href="mailto:jjc@hpl.hp.com">e-mail me</a> with any further
    issues.</li>
</ul>
<h2><a name="leak">Memory Leak</a></h2>
<p>The interaction between ARP and Xerces 
seems to include a significant
memory leak possibly caused by Xerces interning some strings, on behalf of ARP.
This feature cannot be turned off.
This is not a new bug, so ARP users will not experience a degradation 
in performance. However, for users who have limited memory, or who are processing
large files, or files from many diverse sources,
or for long-lived applications such as web servers, it is important to
be aware of this leak. I believe that the strings being interned correspond
to the XML element tags and attribute names in the XML document. These
form an open set in RDF/XML, unlike most XML applications.
</p>
<p>
A potential work around is to use a SAX parser other than Xerces and then
use 
<A HREF="../javadoc/com/hp/hpl/jena/rdf/arp/SAX2Model.html">
SAX2Model</A> or <A HREF="../javadoc/com/hp/hpl/jena/rdf/arp/SAX2RDF.html">
SAX2RDF</A> to parse the SAX event stream as RDF.
</p>
<p>
The size of the leak is presumably highly dependent on the actual
RDF/XML documents read. As an example the OWL Guide wine ontology,
(using the version from the OWL Test Cases) contains about 2000 triples
and leaks about 180K.
</p>

</body>
</html>
